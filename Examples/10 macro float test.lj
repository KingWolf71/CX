#pragma console on
#pragma appname "Macro Float Test"

#define SQUARE(x) ((x) * (x))
#define DOUBLE_AND_SQUARE(x) SQUARE((x) + (x))
#define SUM_THEN_DOUBLE_AND_SQUARE(a, b) DOUBLE_AND_SQUARE((a) + (b))

// Test with integers first
print("Integer test: ", SUM_THEN_DOUBLE_AND_SQUARE(2, 3));

// Test with floats
print("Float test: ", SUM_THEN_DOUBLE_AND_SQUARE(2.25, 3.33));

// Simple float addition
f1.f = 2.25;
f2.f = 3.33;
sum.f = f1 + f2;
print("Simple float add: ", sum);

// Test: does the issue happen with literal floats?
test.f = 2.25 + 3.33;
print("Literal float add: ", test);
